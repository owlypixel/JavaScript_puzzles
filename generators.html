<!DOCTYPE html>
<html>
<head>
	<title>Generators</title>
</head>
<body>
	<script>
	function* listOwls(){
		yield 'Curly';
		yield 'Globby';
		yield 'Fireworky';
	}

	const owls = listOwls();
	// console.log(owls.next());

	const birds = [
		{ first: 'Owly' },
		{ last: 'Master' },
		{ country: 'England' },
		{ city: 'Hamilton' },
		{ twit: '@owlypixel' }
	];

	function* loop(array){
		console.log(birds);
		for (const item of array){
			yield item;
		}
	}

	const birdGenerator = loop(birds);

	// using generators in ajax 
	function ajax(url){
		fetch(url).then(data => data.json()).then(data => dataGen.next(data))
	}
	function* steps(){
		const beers = yield ajax('http://api.react.beer/v2/search?q=hops&type=beer');
		console.log(beers);
		const owl = yield ajax('https://api.github.com/users/owlypixel');
		console.log(owl);
		const fatJoe = yield ajax('https://api.discogs.com/artists/51988');
		console.log(fatJoe);
	}

	const dataGen = steps();
	dataGen.next();

	// looping generators with for of
	function* lyrics(){
		yield `Love of my life, you've hurt me,`;
		yield `You've broken my heart and now you leave me.`;
		yield `Love of my life can't you see,`;
		yield `Bring it back, bring it back,`;
		yield `Don't take it away from me because you don't know what it means to me.`;
		yield `Love of my life, don't leave me,`;
		yield `You've taken my love, you now desert me,`;
		yield `You've stolen my love, you now desert me,`;
		yield `Love of my life, can't you see?`;
		yield `Bring it back, bring it back,`;
		yield `Don't take it away from me because you don't know what it means to me.`;
	}

	const love = lyrics();
	love.next();
	for (const line of love){
		console.log(line);
	}

	</script>
</body>
</html>